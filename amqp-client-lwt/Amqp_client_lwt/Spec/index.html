<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Spec (amqp-client-lwt.Amqp_client_lwt.Spec)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">amqp-client-lwt</a> &#x00BB; <a href="../index.html">Amqp_client_lwt</a> &#x00BB; Spec</nav><header class="odoc-preamble"><h1>Module <code><span>Amqp_client_lwt.Spec</span></code></h1><p>Internal - Low level protocol description</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-reply_text"><a href="#type-reply_text" class="anchor"></a><code><span><span class="keyword">type</span> reply_text</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></span></code></div><div class="spec-doc"><p>The localised reply text. This text can be logged as an aid to resolving issues.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-path"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></span></code></div><div class="spec-doc"><p>Unconstrained.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-reply_code"><a href="#type-reply_code" class="anchor"></a><code><span><span class="keyword">type</span> reply_code</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></span></code></div><div class="spec-doc"><p>The reply code. The AMQ reply codes are defined as constants at the start of this formal specification.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-class_id"><a href="#type-class_id" class="anchor"></a><code><span><span class="keyword">type</span> class_id</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-message_count"><a href="#type-message_count" class="anchor"></a><code><span><span class="keyword">type</span> message_count</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-long">Amqp_client_lib.Types.long</a></span></code></div><div class="spec-doc"><p>The number of messages in the queue, which will be zero for newly-declared queues. This is the number of messages present in the queue, and committed if the channel on which they were published is transacted, that are not waiting acknowledgement.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-peer_properties"><a href="#type-peer_properties" class="anchor"></a><code><span><span class="keyword">type</span> peer_properties</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-table">Amqp_client_lib.Types.table</a></span></code></div><div class="spec-doc"><p>This table provides a set of peer properties, used for identification, debugging, and general information.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-method_id"><a href="#type-method_id" class="anchor"></a><code><span><span class="keyword">type</span> method_id</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-exchange_name"><a href="#type-exchange_name" class="anchor"></a><code><span><span class="keyword">type</span> exchange_name</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></span></code></div><div class="spec-doc"><p>The exchange name is a client-selected string that identifies the exchange for publish methods.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-no_wait"><a href="#type-no_wait" class="anchor"></a><code><span><span class="keyword">type</span> no_wait</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></span></code></div><div class="spec-doc"><p>If set, the server will not respond to the method. The client should not wait for a reply method. If the server could not complete the method it will raise a channel or connection exception.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-delivery_tag"><a href="#type-delivery_tag" class="anchor"></a><code><span><span class="keyword">type</span> delivery_tag</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-longlong">Amqp_client_lib.Types.longlong</a></span></code></div><div class="spec-doc"><p>The server-assigned and channel-specific delivery tag</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-no_ack"><a href="#type-no_ack" class="anchor"></a><code><span><span class="keyword">type</span> no_ack</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></span></code></div><div class="spec-doc"><p>If this field is set the server does not expect acknowledgements for messages. That is, when a message is delivered to the client the server assumes the delivery will succeed and immediately dequeues it. This functionality may increase performance but at the cost of reliability. Messages can get lost if a client dies before they are delivered to the application.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-consumer_tag"><a href="#type-consumer_tag" class="anchor"></a><code><span><span class="keyword">type</span> consumer_tag</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></span></code></div><div class="spec-doc"><p>Identifier for the consumer, valid within the current channel.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-queue_name"><a href="#type-queue_name" class="anchor"></a><code><span><span class="keyword">type</span> queue_name</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></span></code></div><div class="spec-doc"><p>The queue name identifies the queue within the vhost. In methods where the queue name may be blank, and that has no specific significance, this refers to the 'current' queue for the channel, meaning the last queue that the client declared on the channel. If the client did not declare a queue, and the method needs a queue name, this will result in a 502 (syntax error) channel exception.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-redelivered"><a href="#type-redelivered" class="anchor"></a><code><span><span class="keyword">type</span> redelivered</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></span></code></div><div class="spec-doc"><p>This indicates that the message has been previously delivered to this or another client.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-no_local"><a href="#type-no_local" class="anchor"></a><code><span><span class="keyword">type</span> no_local</span><span> = <a href="../../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></span></code></div><div class="spec-doc"><p>If the no-local field is set the server will not send messages to the connection that published them.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Confirm"><a href="#module-Confirm" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Confirm/index.html">Confirm</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Confirm class allows publishers to put the channel in confirm mode and subsequently be notified when messages have been handled by the broker. The intention is that all messages published on a channel in confirm mode will be acknowledged at some point. By acknowledging a message the broker assumes responsibility for it and indicates that it has done something it deems reasonable with it.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Tx"><a href="#module-Tx" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Tx/index.html">Tx</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Tx class allows publish and ack operations to be batched into atomic units of work. The intention is that all publish and ack requests issued within a transaction will complete successfully or none of them will. Servers SHOULD implement atomic transactions at least where all publish or ack requests affect a single queue. Transactions that cover multiple queues may be non-atomic, given that queues can be created and destroyed asynchronously, and such events do not form part of any transaction. Further, the behaviour of transactions with respect to the immediate and mandatory flags on Basic.Publish methods is not defined.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Basic"><a href="#module-Basic" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Basic/index.html">Basic</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Basic class provides methods that support an industry-standard messaging model.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Queue"><a href="#module-Queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Queue/index.html">Queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Queues store and forward messages. Queues can be configured in the server or created at runtime. Queues must be attached to at least one exchange in order to receive messages from publishers.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Exchange"><a href="#module-Exchange" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Exchange/index.html">Exchange</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Exchanges match and distribute messages across queues. Exchanges can be configured in the server or declared at runtime.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Channel"><a href="#module-Channel" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Channel/index.html">Channel</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The channel class provides methods for a client to establish a channel to a server and for both peers to operate the channel thereafter.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Connection"><a href="#module-Connection" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Connection/index.html">Connection</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The connection class provides methods for a client to establish a network connection to a server, and for both peers to operate the connection thereafter.</p></div></div></div></body></html>
